(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"6BQ9":function(e,t,a){e.exports=a("VKpo")},Fuct:function(e,t,a){var r=a("0T/a"),n=a("dwSY");r(r.G+r.F*(parseInt!=n),{parseInt:n})},VKpo:function(e,t,a){a("Fuct"),e.exports=a("p9MR").parseInt},"W+IF":function(e,t,a){"use strict";a.r(t);var r=a("ln6h"),n=a.n(r),o=a("9Jkg"),i=a.n(o),s=a("0iUn"),l=a("sLSF"),c=a("MI3g"),u=a("a7VT"),p=a("AT/M"),d=a("Tit0"),g=a("vYYK"),f=a("q1tI"),m=a.n(f),h=a("6BQ9"),b=a.n(h),v=a("SUMQ"),y=a("pPbJ"),w=a.n(y),O=a("Eg6Q"),j=a("3ZzI"),k=a.n(j),S=a("6ZaM"),x=a.n(S),T=a("1OZW"),C=a.n(T),F=a("IPLq"),N=a.n(F),I=a("Ndn5"),P=a.n(I),_=a("Ce3J"),z=a.n(_),D=a("qtdb"),E=a.n(D),A=a("u39b"),U=a("YFqc"),M=a.n(U),B=a("wd/R"),J=a.n(B),W=a("obyI"),Y=a("9NOM"),L=m.a.createElement,q=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.value;return L(m.a.Fragment,null,"undefined"===typeof a[0]?L("div",{style:{display:"flex",justifyContent:"center"}},L("img",{src:"/static/images/sadface.svg",style:{marginTop:40,width:150}})):a.map((function(e){return L(N.a,{className:t.card,key:e._id},L(P.a,{avatar:L(A.a,{name:e.user[0].username,url:""!==e.user[0].profileimage&&e.user[0].profileimage?W.a.profileimage+e.user[0].profileimage:null,borderColor:"black",borderWidth:2}),component:"div",title:L(M.a,{href:encodeURI("/profile/"+e.user[0]._id+"/@"+e.user[0].username)},L("a",{style:{color:"#1F7BD8",textDecoration:"none"}},L("strong",{style:{color:"gray"}},"@"),"undefined"!==typeof e.user[0]?"".concat(e.user[0].username):"@No name")),subheader:L("p",{style:{fontSize:10,margin:0}},J()(e.created_at).locale(Y.a.locale).fromNow())}),L(z.a,null,L(x.a,{component:"p"},e.content)),L(E.a,{className:t.actions,disableActionSpacing:!0},L("div",{style:{flexGrow:1}}),"undefined"!==typeof e.topic[0]&&L(M.a,{href:encodeURI("/topics/"+e.topic[0]._id+"/"+e.topic[0].title)},L("a",{style:{color:"1F7BD8"}},"View Post"))))})))}}]),t}(m.a.Component),G=Object(v.withStyles)((function(e){var t;return{card:(t={maxWidth:"100%"},Object(g.a)(t,e.breakpoints.up("lg"),{margin:"2% 30%"}),Object(g.a)(t,e.breakpoints.down("md"),{margin:"1% 20%"}),Object(g.a)(t,e.breakpoints.down("sm"),{margin:"1% 10%"}),t),media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"}}}))(q),R=a("1waj"),V=a.n(R),K=a("8Gle"),H=a.n(K),Q=a("ANjH"),Z=a("/MKj"),X=a("Rehh"),$=a("vDqi"),ee=a.n($),te=a("DKSo"),ae=a.n(te),re=m.a.createElement,ne=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o))),Object(g.a)(Object(p.a)(a),"state",{loading:!1}),Object(g.a)(Object(p.a)(a),"handleFollow",(function(){var e,t,r,o,s,l,c,u;return n.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(a.setState({loading:!0}),e=a.props,t=e.getUser,r=e.getFollowing,o=e.getFollowers,s=e.token,l=e.id,!s){p.next=8;break}return c={method:"POST",data:i()({user_id:l}),headers:{"content-type":"application/json","Access-Control-Allow-Origin":"*","x-auth-token":s},url:W.a.api+"/users/profile/follow"},p.next=6,n.a.awrap(ee()(c));case 6:!1===(u=p.sent).data.error&&(a.setState({loading:!1}),o(u.data.content.followersUserData),r(u.data.content.followingUserData),t(u.data.content.user));case 8:case"end":return p.stop()}}))})),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.name,r=e.img,n=e.profile,o=e.user,i=e.token,s=e.data,l=e.id,c=e.loading;return re(w.a,{style:{width:250,height:270,margin:5}},re("div",{style:{backgroundImage:"url('/static/homepage/headerBackground.svg')",backgroundColor:"transparent",width:"100%",height:130,backgroundRepeat:"no-repeat",backgroundSize:"cover",boxShadow:"0 0 0 0"}}),re("div",{style:{textAlign:"center",marginTop:-50,alignItems:"center",justifyContent:"center"}},re("div",{style:{marginLeft:87}},re(A.a,{size:"lg",borderColor:"white",borderWidth:1,url:r,name:a})),re(x.a,{variant:"subtitle2",style:{marginTop:10,textTransform:"capitalize"}},a),re(C.a,{disabled:!(!i||n._id===o._id),onClick:this.handleFollow,variant:"outlined",size:"small",style:{marginTop:20,maxHeight:35,padding:7,borderRadius:20}},c?re(ae.a,{size:24,className:classes.buttonProgress}):"follow"===t&&s.user.following&&-1===s.user.following.indexOf(l)?re(m.a.Fragment,null,re(V.a,{style:{fontSize:15}}),Y.a.f):re(m.a.Fragment,null,re(H.a,{style:{fontSize:15}}),Y.a.n1))))}}]),t}(m.a.Component);var oe=Object(Z.b)((function(e){return{data:e.data}}),(function(e){return Object(Q.b)({getFollowing:X.d,getFollowers:X.c,getUser:X.n},e)}))(ne),ie=m.a.createElement,se=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.value,r=e.profile,n=e.user,o=localStorage.getItem("token");return ie("div",{className:t.root},ie(k.a,{container:!0,justify:"center"},ie(k.a,{container:!0,className:t.demo,alignItems:"center",justify:"center"},"undefined"===typeof a[0]?ie("img",{src:"/static/images/sadface.svg",style:{marginTop:40}}):a.map((function(e){return ie(k.a,{items:!0,key:e._id},ie(oe,{type:"follow",name:e.name?e.name:"@"+e.username,img:""!==e.profileimage&&e.profileimage?W.a.profileimage+e.profileimage:null,id:e.id,token:o,profile:r,user:n}))})))))}}]),t}(m.a.Component),le=Object(v.withStyles)((function(e){return{root:{width:"100%",marginBottom:"5%"},demo:Object(g.a)({position:"relative"},e.breakpoints.up("lg"),{width:1170})}}))(se),ce=m.a.createElement,ue=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=localStorage.getItem("token"),t=this.props,a=t.classes,r=t.value,n=t.profile,o=t.user;return ce("div",{className:a.root},ce(k.a,{container:!0,justify:"center"},ce(k.a,{container:!0,className:a.demo,alignItems:"center",justify:"center"},"undefined"===typeof r[0]?ce("img",{src:"/static/images/sadface.svg",style:{marginTop:40}}):r.map((function(t){return ce(k.a,{items:!0,key:t._id},ce(oe,{name:t.name?t.name:"@"+t.username,img:""!==t.profileimage&&t.profileimage?W.a.profileimage+t.profileimage:null,id:t.id,token:e,profile:n,user:o}))})))))}}]),t}(m.a.Component),pe=Object(v.withStyles)((function(e){return{root:{width:"100%",marginBottom:"5%"},demo:Object(g.a)({position:"relative"},e.breakpoints.up("lg"),{width:1170})}}))(ue),de=m.a.createElement,ge=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return de(m.a.Fragment,null,[0,0,0,0,0,0,0,0,0,0].map((function(t){return de(N.a,{className:e.card},de(P.a,{avatar:de(A.a,{borderColor:"black",borderWidth:2,name:"sicker"}),title:"Shrimp and Chorizo Paella",subheader:"September 14, 2016"}),de(z.a,null,de(x.a,{component:"p"},"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like."),de(N.a,{className:e.semicard},de(P.a,{avatar:de(A.a,{borderColor:"black",borderWidth:2,name:"sicker"}),title:"Shrimp and Chorizo Paella",subheader:"September 14, 2016"}),de(z.a,null,de(x.a,{component:"p"},"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.")))),de(E.a,{className:e.actions,disableActionSpacing:!0},de("div",{style:{flexGrow:1}}),de(M.a,{href:"/faq"},de("a",{style:{color:"1F7BD8"}},"See more threads"))))})))}}]),t}(m.a.Component),fe=Object(v.withStyles)((function(e){var t;return{card:(t={maxWidth:"100%"},Object(g.a)(t,e.breakpoints.up("lg"),{margin:"2% 30%"}),Object(g.a)(t,e.breakpoints.down("md"),{margin:"1% 20%"}),Object(g.a)(t,e.breakpoints.down("sm"),{margin:"1% 10%"}),t),semicard:{marginLeft:"5%",boxShadow:"0px 0px 0px 0px"},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"}}}))(ge),me=a("GZxu"),he=a("MfTV"),be=a("cgWl"),ve=a("1iKp"),ye=a.n(ve),we=a("1IiC"),Oe=a.n(we),je=a("r/wR"),ke=a("nOHt"),Se=a.n(ke),xe=m.a.createElement,Te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o))),Object(g.a)(Object(p.a)(a),"state",{value:0,drawer:!1,stopScroll:!1,userTopicPageNum:2,favouritePageNum:2,loading:!1}),Object(g.a)(Object(p.a)(a),"getCurrentLevel",(function(){var e=a.props.data;return 1===e.profile.user_level?xe("div",{style:{marginTop:-5}},xe("img",{src:"/static/levels/newbie.png",width:25,height:25}),xe(x.a,{variant:"body2",style:{fontSize:10}},"Newbie")):2===e.profile.user_level?xe("div",{style:{marginTop:-5}},xe("img",{src:"/static/levels/expert.png",width:25,height:25}),xe(x.a,{variant:"body2",style:{fontSize:10}},"Expert")):3===e.profile.user_level?xe("div",{style:{marginTop:-5}},xe("img",{src:"/static/levels/pro.png",width:25,height:25}),xe(x.a,{variant:"body2",style:{fontSize:10}},"Pro")):4===e.profile.user_level?xe("div",{style:{marginTop:-5}},xe("img",{src:"/static/levels/veteran.png",width:25,height:25}),xe(x.a,{variant:"body2",style:{fontSize:10}},"Veteran")):void 0})),Object(g.a)(Object(p.a)(a),"getFutureLevel",(function(){var e=a.props.data;return 1===e.profile.user_level?xe("div",{style:{marginTop:-5}},xe("img",{src:"/static/levels/expert.png",width:25,height:25}),xe(x.a,{variant:"body2",style:{fontSize:10}},"Expert")):2===e.profile.user_level?xe("div",{style:{marginTop:-5}},xe("img",{src:"/static/levels/pro.png",width:25,height:25}),xe(x.a,{variant:"body2",style:{fontSize:10}},"Pro")):3===e.profile.user_level?xe("div",{style:{marginTop:-5}},xe("img",{src:"/static/levels/veteran.png",width:25,height:25}),xe(x.a,{variant:"body2",style:{fontSize:10}},"Veteran")):void 0})),Object(g.a)(Object(p.a)(a),"displayInfo",(function(){var e=a.props.data;return xe("div",{style:{marginTop:250,marginBottom:10,textAlign:"center"}},xe(x.a,{variant:"h4",style:{textTransform:"capitalize"}},"undefined"!==typeof e.profile.name?e.profile.name:e.profile.username),xe(x.a,{variant:"subtitle2"},Y.a.d2,J()(e.profile.created_at).locale(Y.a.locale).format("YYYY")),xe("div",{style:{margin:"20px 20%"}},xe(k.a,{container:!0},xe(k.a,{item:!0,xs:1},a.getCurrentLevel()),xe(k.a,{item:!0,xs:10},xe(he.a,{percent:b()(e.profile.user_level/6*100)})),xe(k.a,{item:!0,xs:1},a.getFutureLevel()))),xe(x.a,{variant:"subtitle2",style:{margin:"5px 10%"}},e.profile.bio&&e.profile.bio))})),Object(g.a)(Object(p.a)(a),"handleFetchMoreUserPost",(function(){var e,t,r,o,i,s,l,c;return n.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e=a.props,t=e.router,r=e.getTopics,o=e.data,i=e.userPostTotal,s=a.state,l=s.userTopicPageNum,s.loading||!(i>o.topics.length)){u.next=13;break}return u.prev=3,a.setState({loading:!0}),u.next=7,n.a.awrap(ee.a.get(W.a.api+"/users/profile/"+t.query.userObjId+"?userPageTopic="+l));case 7:(c=u.sent).data.userTopics&&(a.setState({userTopicPageNum:l+1,loading:!1}),c.data.userTopics.forEach((function(e){o.topics.push(e)})),r(o.topics)),u.next=13;break;case 11:u.prev=11,u.t0=u.catch(3);case 13:case"end":return u.stop()}}),null,null,[[3,11]])})),Object(g.a)(Object(p.a)(a),"handleFetchMoreUserFavouritePost",(function(){var e,t,r,o,i,s,l;return n.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=a.props,t=e.router,r=e.getFavourite,o=e.data,i=a.state,s=i.favouritePageNum,i.loading){c.next=13;break}return c.prev=3,a.setState({loading:!0}),c.next=7,n.a.awrap(ee.a.get(W.a.api+"/users/profile/"+t.query.userObjId+"?userFavouritePageTopic="+s));case 7:(l=c.sent).data.favourite&&(a.setState({favouritePageNum:s+1,loading:!1}),l.data.favourite.forEach((function(e){o.favourite.push(e)})),r(o.favourite)),c.next=13;break;case 11:c.prev=11,c.t0=c.catch(3);case 13:case"end":return c.stop()}}),null,null,[[3,11]])})),Object(g.a)(Object(p.a)(a),"displaySection",(function(){var e=a.state.value,t=a.props.data;return 0===e?xe(je.a,{onBottom:a.handleFetchMoreUserPost},xe(me.a,{topicValue:t.topics,source:"usertopics"})):1===e?xe(je.a,{onBottom:a.handleFetchMoreUserFavouritePost},xe(me.a,{topicValue:t.favourite,source:"favourite"})):2===e?xe(G,{value:t.comment}):3===e?xe(fe,{value:t.replies}):4===e?xe(pe,{value:t.following,profile:t.profile,user:t.user}):5===e?xe(le,{value:t.followers,profile:t.profile,user:t.user}):void 0})),Object(g.a)(Object(p.a)(a),"displayTab",(function(){var e=a.props,t=e.classes,r=e.data,n=e.userPostTotal,o=a.state.value,i=localStorage.getItem("token"),s={borderBottom:"2px solid #1f7be1"},l={backgroundColor:"white"};return xe(w.a,null,xe(k.a,{container:!0,justify:"center"},xe(k.a,{style:0===o?s:l},xe(C.a,{className:t.tab,onClick:a.handleChange.bind(Object(p.a)(a),0)},xe(x.a,{className:t.pos},n,"\xa0"),Y.a.e2)),i&&r.profile._id===r.user._id&&xe(k.a,{style:1===o?s:l},xe(C.a,{className:t.tab,onClick:a.handleChange.bind(Object(p.a)(a),1)},xe(x.a,{className:t.pos},0===r.profile.favourite.length?"":r.profile.favourite.length,"\xa0"),Y.a.f2)),xe(k.a,{style:2===o?s:l},xe(C.a,{className:t.tab,onClick:a.handleChange.bind(Object(p.a)(a),2)},xe(x.a,{className:t.pos},0===r.comment.length?"":r.comment.length,"\xa0"),Y.a.g2)),xe(k.a,{style:4===o?s:l},xe(C.a,{className:t.tab,onClick:a.handleChange.bind(Object(p.a)(a),4)},xe(x.a,{className:t.pos},0===r.following.length?"":r.following.length,"\xa0"),Y.a.g)),xe(k.a,{style:5===o?s:l},xe(C.a,{className:t.tab,onClick:a.handleChange.bind(Object(p.a)(a),5)},xe(x.a,{className:t.pos},0===r.followers.length?"":r.followers.length,"\xa0"),Y.a.x1))))})),Object(g.a)(Object(p.a)(a),"handleDrawerOpen",(function(){a.setState({drawer:!0})})),Object(g.a)(Object(p.a)(a),"handleDrawerClose",(function(){a.setState({drawer:!1})})),Object(g.a)(Object(p.a)(a),"trackScrolling",(function(e){return window.scrollY>240?(a.setState({stopScroll:!0}),!1):(a.setState({stopScroll:!1}),!1)})),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e})}},{key:"componentWillUnmount",value:function(){removeEventListener("scroll",this.trackScrolling)}},{key:"componentDidMount",value:function(){addEventListener("scroll",this.trackScrolling)}},{key:"render",value:function(){var e=this.state,t=e.stopScroll,a=e.drawer,r=e.loading,n=e.value,o=this.props,i=o.classes,s=o.userPostTotal,l=o.data;return xe("div",null,xe(O.a,{drawer:a,handleDrawerOpen:this.handleDrawerOpen,handleDrawerClose:this.handleDrawerClose}),xe(be.a,{drawer:a,overlay:!0,top:130,stopScroll:t,handleDrawerOpen:this.handleDrawerOpen,handleDrawerClose:this.handleDrawerClose},xe("div",null,this.displayInfo(),this.displayTab(),this.displaySection(),0===n&&s>l.topics.length&&xe(Oe.a,{style:{display:"contents"}},r?xe(ae.a,{className:i.progress,color:"secondary"}):xe(ye.a,null)),1===n&&xe(Oe.a,{style:{display:"contents"}},r?xe(ae.a,{className:i.progress,color:"secondary"}):xe(ye.a,null)))))}}]),t}(m.a.Component);var Ce=Object(Z.b)((function(e){return{data:e.data}}),(function(e){return Object(Q.b)({getTopics:X.l,getFavourite:X.b},e)}))(Object(ke.withRouter)(Object(v.withStyles)((function(e){return{root:{flexGrow:1,marginTop:100,minHeight:45},tab:{alignItems:"baseline",padding:10},pos:{},progress:{margin:2*e.spacing.unit}}}))(Te))),Fe=a("/wFB"),Ne=m.a.createElement,Ie=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n))),Object(g.a)(Object(p.a)(a),"state",{loading:!0}),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,r,o,s,l,c,u,p,d,g,f,m,h,b,v,y,w;return n.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:if(e=this.props,t=e.getTopics,a=e.getComment,r=e.getProfile,o=e.getFollowing,s=e.getFollowers,l=e.getFavourite,c=e.userProfile,u=e.userTopic,p=e.userComment,d=e.userFavourite,g=e.userFollowers,f=e.userFollowing,m=e.getUser,h=e.getToken,b=localStorage.getItem("token"),v=sessionStorage.getItem("user"),O.prev=3,!b){O.next=16;break}if(v){O.next=15;break}return y={method:"GET",headers:{"content-type":"application/json","Access-Control-Allow-Origin":"*","x-auth-token":b},url:W.a.api+"/users/me"},O.next=9,n.a.awrap(ee()(y));case 9:w=O.sent,m(w.data[0]),sessionStorage.setItem("user",i()(w.data[0])),h(b),O.next=16;break;case 15:m(JSON.parse(v));case 16:t(JSON.parse(u)),l(JSON.parse(d)),a(JSON.parse(p)),o(JSON.parse(f)),s(JSON.parse(g)),r(JSON.parse(c)),this.setState({loading:!1}),O.next=28;break;case 25:O.prev=25,O.t0=O.catch(3),O.t0.response.data.error&&(localStorage.removeItem("token"),Se.a.push("/login?sE=true"));case 28:case"end":return O.stop()}}),null,this,[[3,25]])}},{key:"render",value:function(){var e=this.state.loading,t=this.props.total;return Ne("div",null,e?Ne(Fe.a,null):Ne(Ce,{userPostTotal:JSON.parse(t)}))}}],[{key:"getInitialProps",value:function(e){var t,a,r,o,s,l,c,u,p;return n.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.query,d.next=3,n.a.awrap(ee.a.get(W.a.api+"/users/profile/"+t.userObjId));case 3:return a=d.sent,r=i()(a.data.user),o=i()(a.data.userTopics),s=i()(a.data.comment),l=i()(a.data.favourite),c=i()(a.data.followers),u=i()(a.data.following),p=i()(a.data.total),d.abrupt("return",{userProfile:r,userTopic:o,userComment:s,userFavourite:l,userFollowers:c,userFollowing:u,total:p});case 12:case"end":return d.stop()}}))}}]),t}(m.a.Component);t.default=Object(Z.b)((function(e){return{data:e.data}}),(function(e){return Object(Q.b)({getTopics:X.l,getUser:X.n,getFavourite:X.b,getComment:X.a,getFollowers:X.c,getFollowing:X.d,getProfile:X.g,getToken:X.k},e)}))(Ie)},dwSY:function(e,t,a){var r=a("2jw7").parseInt,n=a("Yzr4").trim,o=a("cCpf"),i=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var a=n(String(e),3);return r(a,t>>>0||(i.test(a)?16:10))}:r},u1GD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return a("W+IF")}])}},[["u1GD",1,2,0,3,4,5,6,7,8,9,10,11,12,13,14,15,16]]]);